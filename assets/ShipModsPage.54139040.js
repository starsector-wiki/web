import{d as ee,e as te,f as K,Q as E}from"./QBtn.ce1b7494.js";import{u as G,a as H}from"./use-dark.b6736f9e.js";import{r as I,a as o,h as s,c as F,g as W,a6 as V,s as O,a7 as be,I as he,K as q,L as w,M,Q as i,O as J,N as Y,C as Q,a8 as A,U as j,V as z,R,X as U,W as N}from"./index.2981bf06.js";import{c as ne,h as le}from"./render.b384ed47.js";import{Q as ke}from"./QPage.28e3fe20.js";function ae(e,v){const t=I(null),m=o(()=>e.disable===!0?null:s("span",{ref:t,class:"no-outline",tabindex:-1}));function b(c){const g=v.value;c!==void 0&&c.type.indexOf("key")===0?g!==null&&document.activeElement!==g&&g.contains(document.activeElement)===!0&&g.focus():t.value!==null&&(c===void 0||g!==null&&g.contains(c.target)===!0)&&t.value.focus()}return{refocusTargetEl:m,refocusTarget:b}}const oe={name:String};function ue(e={}){return(v,t,m)=>{v[t](s("input",{class:"hidden"+(m||""),...e.value}))}}var re={xs:30,sm:35,md:40,lg:50,xl:60};const _e=()=>s("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[s("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),s("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var ye=F({name:"QRadio",props:{...G,...ee,...oe,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:v,emit:t}){const{proxy:m}=W(),b=H(e,m.$q),c=te(e,re),g=I(null),{refocusTargetEl:k,refocusTarget:r}=ae(e,g),n=o(()=>V(e.modelValue)===V(e.val)),l=o(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(b.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),_=o(()=>{const d=e.color!==void 0&&(e.keepColor===!0||n.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${n.value===!0?"truthy":"falsy"}${d}`}),f=o(()=>(n.value===!0?e.checkedIcon:e.uncheckedIcon)||null),y=o(()=>e.disable===!0?-1:e.tabindex||0),a=o(()=>{const d={type:"radio"};return e.name!==void 0&&Object.assign(d,{".checked":n.value===!0,"^checked":n.value===!0?"checked":void 0,name:e.name,value:e.val}),d}),h=ue(a);function x(d){d!==void 0&&(O(d),r(d)),e.disable!==!0&&n.value!==!0&&t("update:modelValue",e.val,d)}function T(d){(d.keyCode===13||d.keyCode===32)&&O(d)}function L(d){(d.keyCode===13||d.keyCode===32)&&x(d)}Object.assign(m,{set:x});const $=_e();return()=>{const d=f.value!==null?[s("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[s(K,{class:"q-radio__icon",name:f.value})])]:[$];e.disable!==!0&&h(d,"unshift"," q-radio__native q-ma-none q-pa-none");const C=[s("div",{class:_.value,style:c.value,"aria-hidden":"true"},d)];k.value!==null&&C.push(k.value);const B=e.label!==void 0?ne(v.default,[e.label]):le(v.default);return B!==void 0&&C.push(s("div",{class:"q-radio__label q-anchor--skip"},B)),s("div",{ref:g,class:l.value,tabindex:y.value,role:"radio","aria-label":e.label,"aria-checked":n.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:x,onKeydown:T,onKeyup:L},C)}}});const ie={...G,...ee,...oe,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},se=["update:modelValue"];function ce(e,v){const{props:t,slots:m,emit:b,proxy:c}=W(),{$q:g}=c,k=H(t,g),r=I(null),{refocusTargetEl:n,refocusTarget:l}=ae(t,r),_=te(t,re),f=o(()=>t.val!==void 0&&Array.isArray(t.modelValue)),y=o(()=>{const u=V(t.val);return f.value===!0?t.modelValue.findIndex(p=>V(p)===u):-1}),a=o(()=>f.value===!0?y.value!==-1:V(t.modelValue)===V(t.trueValue)),h=o(()=>f.value===!0?y.value===-1:V(t.modelValue)===V(t.falseValue)),x=o(()=>a.value===!1&&h.value===!1),T=o(()=>t.disable===!0?-1:t.tabindex||0),L=o(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(t.disable===!0?" disabled":"")+(k.value===!0?` q-${e}--dark`:"")+(t.dense===!0?` q-${e}--dense`:"")+(t.leftLabel===!0?" reverse":"")),$=o(()=>{const u=a.value===!0?"truthy":h.value===!0?"falsy":"indet",p=t.color!==void 0&&(t.keepColor===!0||(e==="toggle"?a.value===!0:h.value!==!0))?` text-${t.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${u}${p}`}),d=o(()=>{const u={type:"checkbox"};return t.name!==void 0&&Object.assign(u,{".checked":a.value,"^checked":a.value===!0?"checked":void 0,name:t.name,value:f.value===!0?t.val:t.trueValue}),u}),C=ue(d),B=o(()=>{const u={tabindex:T.value,role:e==="toggle"?"switch":"checkbox","aria-label":t.label,"aria-checked":x.value===!0?"mixed":a.value===!0?"true":"false"};return t.disable===!0&&(u["aria-disabled"]="true"),u});function D(u){u!==void 0&&(O(u),l(u)),t.disable!==!0&&b("update:modelValue",ve(),u)}function ve(){if(f.value===!0){if(a.value===!0){const u=t.modelValue.slice();return u.splice(y.value,1),u}return t.modelValue.concat([t.val])}if(a.value===!0){if(t.toggleOrder!=="ft"||t.toggleIndeterminate===!1)return t.falseValue}else if(h.value===!0){if(t.toggleOrder==="ft"||t.toggleIndeterminate===!1)return t.trueValue}else return t.toggleOrder!=="ft"?t.trueValue:t.falseValue;return t.indeterminateValue}function me(u){(u.keyCode===13||u.keyCode===32)&&O(u)}function fe(u){(u.keyCode===13||u.keyCode===32)&&D(u)}const ge=v(a,x);return Object.assign(c,{toggle:D}),()=>{const u=ge();t.disable!==!0&&C(u,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const p=[s("div",{class:$.value,style:_.value,"aria-hidden":"true"},u)];n.value!==null&&p.push(n.value);const X=t.label!==void 0?ne(m.default,[t.label]):le(m.default);return X!==void 0&&p.push(s("div",{class:`q-${e}__label q-anchor--skip`},X)),s("div",{ref:r,class:L.value,...B.value,onClick:D,onKeydown:me,onKeyup:fe},p)}}const xe=()=>s("div",{key:"svg",class:"q-checkbox__bg absolute"},[s("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[s("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),s("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var Ve=F({name:"QCheckbox",props:ie,emits:se,setup(e){const v=xe();function t(m,b){const c=o(()=>(m.value===!0?e.checkedIcon:b.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>c.value!==null?[s("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[s(K,{class:"q-checkbox__icon",name:c.value})])]:[v]}return ce("checkbox",t)}}),pe=F({name:"QToggle",props:{...ie,icon:String,iconColor:String},emits:se,setup(e){function v(t,m){const b=o(()=>(t.value===!0?e.checkedIcon:m.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),c=o(()=>t.value===!0?e.iconColor:null);return()=>[s("div",{class:"q-toggle__track"}),s("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},b.value!==void 0?[s(K,{name:b.value,color:c.value})]:void 0)]}return ce("toggle",v)}});const de={radio:ye,checkbox:Ve,toggle:pe},qe=Object.keys(de);function P(e,v){if(typeof e=="function")return e;const t=e!==void 0?e:v;return m=>m[t]}var Z=F({name:"QOptionGroup",props:{...G,modelValue:{required:!0},options:{type:Array,validator:e=>e.every(be),default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],name:String,type:{type:String,default:"radio",validator:e=>qe.includes(e)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{emit:v,slots:t}){const{proxy:{$q:m}}=W(),b=Array.isArray(e.modelValue);e.type==="radio"?b===!0&&console.error("q-option-group: model should not be array"):b===!1&&console.error("q-option-group: model should be array in your case");const c=H(e,m),g=o(()=>de[e.type]),k=o(()=>P(e.optionValue,"value")),r=o(()=>P(e.optionLabel,"label")),n=o(()=>P(e.optionDisable,"disable")),l=o(()=>e.options.map(a=>({val:k.value(a),name:a.name===void 0?e.name:a.name,disable:e.disable||n.value(a),leftLabel:a.leftLabel===void 0?e.leftLabel:a.leftLabel,color:a.color===void 0?e.color:a.color,checkedIcon:a.checkedIcon,uncheckedIcon:a.uncheckedIcon,dark:a.dark===void 0?c.value:a.dark,size:a.size===void 0?e.size:a.size,dense:e.dense,keepColor:a.keepColor===void 0?e.keepColor:a.keepColor}))),_=o(()=>"q-option-group q-gutter-x-sm"+(e.inline===!0?" q-option-group--inline":"")),f=o(()=>{const a={role:"group"};return e.type==="radio"&&(a.role="radiogroup",e.disable===!0&&(a["aria-disabled"]="true")),a});function y(a){v("update:modelValue",a)}return()=>s("div",{class:_.value,...f.value},e.options.map((a,h)=>{const x=t["label-"+h]!==void 0?()=>t["label-"+h](a):t.label!==void 0?()=>t.label(a):void 0;return s("div",[s(g.value,{label:x===void 0?r.value(a):null,modelValue:e.modelValue,"onUpdate:modelValue":y,...l.value[h]},x)])}))}});const Se={class:"q-pa-sm window-width"},Ce={class:"items"},Ie={class:"item"},Be={class:"item_img_section"},we=["src"],Me={class:"items"},Oe={class:"item"},Fe={class:"item_img_section"},Te=["src"],Le={class:"items"},$e={class:"item"},De={class:"item_img_section"},Ee=["src"],S="\u5168\u90E8",Ue=he({name:"ShipModsPage",__name:"ShipModsPage",setup(e){const v=I(S),t=I(S),m=o(()=>{const r=N.sortdShipMod(),n=new Set(r.flatMap(l=>l.uiTags).sort());return[S,...n].map(l=>({label:l+"("+g(r,l).length+")",value:l}))}),b=o(()=>{const r=N.sortdShipMod(),n=new Set(r.map(l=>l.manufacturer).sort());return[S,...n].map(l=>({label:l+"("+k(r,l).length+")",value:l}))}),c=o(()=>{let r=N.sortdShipMod().sort((f,y)=>f.id.localeCompare(y.id));r=g(r,v.value),r=k(r,t.value);const n=r.filter(f=>f.tags.includes("dmod")),l=r.filter(f=>f.hidden),_=r.filter(f=>!(f.hidden||f.tags.includes("dmod")));return{dMods:n,hiddenMods:l,normalMods:_}});function g(r,n){return r.filter(l=>v.value===S?!0:l.uiTags.some(_=>_===n))}function k(r,n){return r.filter(l=>t.value===S?!0:l.manufacturer===n)}return(r,n)=>(q(),w(ke,{padding:"",style:{display:"flex","flex-flow":"row wrap","justify-content":"flex-start","align-items":"stretch",gap:"10px 10px"}},{default:M(()=>[i("div",Se,[n[2]||(n[2]=J(" UI\u6807\u7B7E: ")),Y(Z,{name:"accepted_uiTags",modelValue:v.value,"onUpdate:modelValue":n[0]||(n[0]=l=>v.value=l),options:m.value,type:"radio",color:"primary",inline:""},null,8,["modelValue","options"]),n[3]||(n[3]=J(" \u8BBE\u8BA1\u7C7B\u578B: ")),Y(Z,{name:"accepted_manufacturer",modelValue:t.value,"onUpdate:modelValue":n[1]||(n[1]=l=>t.value=l),options:b.value,type:"radio",color:"primary",inline:""},null,8,["modelValue","options"])]),n[4]||(n[4]=i("br",null,null,-1)),n[5]||(n[5]=i("br",null,null,-1)),Q(i("h4",null,"\u53EF\u4F7F\u7528\u63D2\u4EF6",512),[[A,c.value.normalMods.length>0]]),i("div",Ce,[(q(!0),j(U,null,z(c.value.normalMods,l=>(q(),w(E,{class:"card-item","no-caps":"",key:l.id,to:{name:"ship_mod",params:{id:l.id}}},{default:M(()=>[i("div",Ie,[i("div",Be,[i("img",{decoding:"async",src:l.icon},null,8,we)]),i("span",null,R(l.name),1)])]),_:2},1032,["to"]))),128))]),n[6]||(n[6]=i("br",null,null,-1)),n[7]||(n[7]=i("br",null,null,-1)),Q(i("h4",null,"D\u63D2\u4EF6",512),[[A,c.value.dMods.length>0]]),i("div",Me,[(q(!0),j(U,null,z(c.value.dMods,l=>(q(),w(E,{class:"card-item","no-caps":"",key:l.id,to:{name:"ship_mod",params:{id:l.id}}},{default:M(()=>[i("div",Oe,[i("div",Fe,[i("img",{decoding:"async",src:l.icon},null,8,Te)]),i("span",null,R(l.name),1)])]),_:2},1032,["to"]))),128))]),n[8]||(n[8]=i("br",null,null,-1)),n[9]||(n[9]=i("br",null,null,-1)),Q(i("h4",null,"\u9690\u85CF\u63D2\u4EF6",512),[[A,c.value.hiddenMods.length>0]]),i("div",Le,[(q(!0),j(U,null,z(c.value.hiddenMods,l=>(q(),w(E,{class:"card-item","no-caps":"",key:l.id,to:{name:"ship_mod",params:{id:l.id}}},{default:M(()=>[i("div",$e,[i("div",De,[i("img",{decoding:"async",src:l.icon},null,8,Ee)]),i("span",null,R(l.name),1)])]),_:2},1032,["to"]))),128))])]),_:1}))}});export{Ue as default};
