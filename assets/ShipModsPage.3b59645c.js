import{d as ee,e as te,f as K,Q as E}from"./QBtn.f345c7ae.js";import{u as G,a as H}from"./use-dark.a5db6825.js";import{r as I,a as o,h as s,c as F,g as W,a3 as V,s as O,a4 as be,I as he,K as S,L as w,M,Q as i,O as J,N as Y,C as Q,a5 as A,V as j,W as z,R,X as U,U as N}from"./index.e35df538.js";import{c as le,h as ne}from"./render.85036739.js";import{Q as ke}from"./QPage.f3b69174.js";function ae(e,v){const t=I(null),f=o(()=>e.disable===!0?null:s("span",{ref:t,class:"no-outline",tabindex:-1}));function b(c){const g=v.value;c!==void 0&&c.type.indexOf("key")===0?g!==null&&document.activeElement!==g&&g.contains(document.activeElement)===!0&&g.focus():t.value!==null&&(c===void 0||g!==null&&g.contains(c.target)===!0)&&t.value.focus()}return{refocusTargetEl:f,refocusTarget:b}}const oe={name:String};function ue(e={}){return(v,t,f)=>{v[t](s("input",{class:"hidden"+(f||""),...e.value}))}}var re={xs:30,sm:35,md:40,lg:50,xl:60};const _e=()=>s("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[s("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),s("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var ye=F({name:"QRadio",props:{...G,...ee,...oe,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:v,emit:t}){const{proxy:f}=W(),b=H(e,f.$q),c=te(e,re),g=I(null),{refocusTargetEl:k,refocusTarget:r}=ae(e,g),l=o(()=>V(e.modelValue)===V(e.val)),n=o(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(b.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),_=o(()=>{const d=e.color!==void 0&&(e.keepColor===!0||l.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${l.value===!0?"truthy":"falsy"}${d}`}),m=o(()=>(l.value===!0?e.checkedIcon:e.uncheckedIcon)||null),y=o(()=>e.disable===!0?-1:e.tabindex||0),a=o(()=>{const d={type:"radio"};return e.name!==void 0&&Object.assign(d,{".checked":l.value===!0,"^checked":l.value===!0?"checked":void 0,name:e.name,value:e.val}),d}),h=ue(a);function x(d){d!==void 0&&(O(d),r(d)),e.disable!==!0&&l.value!==!0&&t("update:modelValue",e.val,d)}function T(d){(d.keyCode===13||d.keyCode===32)&&O(d)}function L(d){(d.keyCode===13||d.keyCode===32)&&x(d)}Object.assign(f,{set:x});const $=_e();return()=>{const d=m.value!==null?[s("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[s(K,{class:"q-radio__icon",name:m.value})])]:[$];e.disable!==!0&&h(d,"unshift"," q-radio__native q-ma-none q-pa-none");const C=[s("div",{class:_.value,style:c.value,"aria-hidden":"true"},d)];k.value!==null&&C.push(k.value);const B=e.label!==void 0?le(v.default,[e.label]):ne(v.default);return B!==void 0&&C.push(s("div",{class:"q-radio__label q-anchor--skip"},B)),s("div",{ref:g,class:n.value,tabindex:y.value,role:"radio","aria-label":e.label,"aria-checked":l.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:x,onKeydown:T,onKeyup:L},C)}}});const ie={...G,...ee,...oe,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},se=["update:modelValue"];function ce(e,v){const{props:t,slots:f,emit:b,proxy:c}=W(),{$q:g}=c,k=H(t,g),r=I(null),{refocusTargetEl:l,refocusTarget:n}=ae(t,r),_=te(t,re),m=o(()=>t.val!==void 0&&Array.isArray(t.modelValue)),y=o(()=>{const u=V(t.val);return m.value===!0?t.modelValue.findIndex(q=>V(q)===u):-1}),a=o(()=>m.value===!0?y.value!==-1:V(t.modelValue)===V(t.trueValue)),h=o(()=>m.value===!0?y.value===-1:V(t.modelValue)===V(t.falseValue)),x=o(()=>a.value===!1&&h.value===!1),T=o(()=>t.disable===!0?-1:t.tabindex||0),L=o(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(t.disable===!0?" disabled":"")+(k.value===!0?` q-${e}--dark`:"")+(t.dense===!0?` q-${e}--dense`:"")+(t.leftLabel===!0?" reverse":"")),$=o(()=>{const u=a.value===!0?"truthy":h.value===!0?"falsy":"indet",q=t.color!==void 0&&(t.keepColor===!0||(e==="toggle"?a.value===!0:h.value!==!0))?` text-${t.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${u}${q}`}),d=o(()=>{const u={type:"checkbox"};return t.name!==void 0&&Object.assign(u,{".checked":a.value,"^checked":a.value===!0?"checked":void 0,name:t.name,value:m.value===!0?t.val:t.trueValue}),u}),C=ue(d),B=o(()=>{const u={tabindex:T.value,role:e==="toggle"?"switch":"checkbox","aria-label":t.label,"aria-checked":x.value===!0?"mixed":a.value===!0?"true":"false"};return t.disable===!0&&(u["aria-disabled"]="true"),u});function D(u){u!==void 0&&(O(u),n(u)),t.disable!==!0&&b("update:modelValue",ve(),u)}function ve(){if(m.value===!0){if(a.value===!0){const u=t.modelValue.slice();return u.splice(y.value,1),u}return t.modelValue.concat([t.val])}if(a.value===!0){if(t.toggleOrder!=="ft"||t.toggleIndeterminate===!1)return t.falseValue}else if(h.value===!0){if(t.toggleOrder==="ft"||t.toggleIndeterminate===!1)return t.trueValue}else return t.toggleOrder!=="ft"?t.trueValue:t.falseValue;return t.indeterminateValue}function fe(u){(u.keyCode===13||u.keyCode===32)&&O(u)}function me(u){(u.keyCode===13||u.keyCode===32)&&D(u)}const ge=v(a,x);return Object.assign(c,{toggle:D}),()=>{const u=ge();t.disable!==!0&&C(u,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const q=[s("div",{class:$.value,style:_.value,"aria-hidden":"true"},u)];l.value!==null&&q.push(l.value);const X=t.label!==void 0?le(f.default,[t.label]):ne(f.default);return X!==void 0&&q.push(s("div",{class:`q-${e}__label q-anchor--skip`},X)),s("div",{ref:r,class:L.value,...B.value,onClick:D,onKeydown:fe,onKeyup:me},q)}}const xe=()=>s("div",{key:"svg",class:"q-checkbox__bg absolute"},[s("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[s("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),s("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var Ve=F({name:"QCheckbox",props:ie,emits:se,setup(e){const v=xe();function t(f,b){const c=o(()=>(f.value===!0?e.checkedIcon:b.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>c.value!==null?[s("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[s(K,{class:"q-checkbox__icon",name:c.value})])]:[v]}return ce("checkbox",t)}}),qe=F({name:"QToggle",props:{...ie,icon:String,iconColor:String},emits:se,setup(e){function v(t,f){const b=o(()=>(t.value===!0?e.checkedIcon:f.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),c=o(()=>t.value===!0?e.iconColor:null);return()=>[s("div",{class:"q-toggle__track"}),s("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},b.value!==void 0?[s(K,{name:b.value,color:c.value})]:void 0)]}return ce("toggle",v)}});const de={radio:ye,checkbox:Ve,toggle:qe},Se=Object.keys(de);function P(e,v){if(typeof e=="function")return e;const t=e!==void 0?e:v;return f=>f[t]}var Z=F({name:"QOptionGroup",props:{...G,modelValue:{required:!0},options:{type:Array,validator:e=>e.every(be),default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],name:String,type:{type:String,default:"radio",validator:e=>Se.includes(e)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{emit:v,slots:t}){const{proxy:{$q:f}}=W(),b=Array.isArray(e.modelValue);e.type==="radio"?b===!0&&console.error("q-option-group: model should not be array"):b===!1&&console.error("q-option-group: model should be array in your case");const c=H(e,f),g=o(()=>de[e.type]),k=o(()=>P(e.optionValue,"value")),r=o(()=>P(e.optionLabel,"label")),l=o(()=>P(e.optionDisable,"disable")),n=o(()=>e.options.map(a=>({val:k.value(a),name:a.name===void 0?e.name:a.name,disable:e.disable||l.value(a),leftLabel:a.leftLabel===void 0?e.leftLabel:a.leftLabel,color:a.color===void 0?e.color:a.color,checkedIcon:a.checkedIcon,uncheckedIcon:a.uncheckedIcon,dark:a.dark===void 0?c.value:a.dark,size:a.size===void 0?e.size:a.size,dense:e.dense,keepColor:a.keepColor===void 0?e.keepColor:a.keepColor}))),_=o(()=>"q-option-group q-gutter-x-sm"+(e.inline===!0?" q-option-group--inline":"")),m=o(()=>{const a={role:"group"};return e.type==="radio"&&(a.role="radiogroup",e.disable===!0&&(a["aria-disabled"]="true")),a});function y(a){v("update:modelValue",a)}return()=>s("div",{class:_.value,...m.value},e.options.map((a,h)=>{const x=t["label-"+h]!==void 0?()=>t["label-"+h](a):t.label!==void 0?()=>t.label(a):void 0;return s("div",[s(g.value,{label:x===void 0?r.value(a):null,modelValue:e.modelValue,"onUpdate:modelValue":y,...n.value[h]},x)])}))}});const pe={class:"q-pa-sm window-width"},Ce={class:"items"},Ie={class:"item"},Be={class:"item_img_section"},we=["src"],Me={class:"items"},Oe={class:"item"},Fe={class:"item_img_section"},Te=["src"],Le={class:"items"},$e={class:"item"},De={class:"item_img_section"},Ee=["src"],p="\u5168\u90E8",Ue=he({name:"ShipModsPage",__name:"ShipModsPage",setup(e){const v=I(p),t=I(p),f=o(()=>{const r=N().sortdShipMod,l=new Set(r.flatMap(n=>n.uiTags).sort());return[p,...l].map(n=>({label:n+"("+g(r,n).length+")",value:n}))}),b=o(()=>{const r=N().sortdShipMod,l=new Set(r.map(n=>n.manufacturer).sort());return[p,...l].map(n=>({label:n+"("+k(r,n).length+")",value:n}))}),c=o(()=>{let r=N().sortdShipMod.sort((m,y)=>m.id.localeCompare(y.id));r=g(r,v.value),r=k(r,t.value);const l=r.filter(m=>m.tags.includes("dmod")),n=r.filter(m=>m.hidden),_=r.filter(m=>!(m.hidden||m.tags.includes("dmod")));return{dMods:l,hiddenMods:n,normalMods:_}});function g(r,l){return r.filter(n=>v.value===p?!0:n.uiTags.some(_=>_===l))}function k(r,l){return r.filter(n=>t.value===p?!0:n.manufacturer===l)}return(r,l)=>(S(),w(ke,{padding:"",style:{display:"flex","flex-flow":"row wrap","justify-content":"flex-start","align-items":"stretch",gap:"10px 10px"}},{default:M(()=>[i("div",pe,[l[2]||(l[2]=J(" UI\u6807\u7B7E: ")),Y(Z,{name:"accepted_uiTags",modelValue:v.value,"onUpdate:modelValue":l[0]||(l[0]=n=>v.value=n),options:f.value,type:"radio",color:"primary",inline:""},null,8,["modelValue","options"]),l[3]||(l[3]=J(" \u8BBE\u8BA1\u7C7B\u578B: ")),Y(Z,{name:"accepted_manufacturer",modelValue:t.value,"onUpdate:modelValue":l[1]||(l[1]=n=>t.value=n),options:b.value,type:"radio",color:"primary",inline:""},null,8,["modelValue","options"])]),l[4]||(l[4]=i("br",null,null,-1)),l[5]||(l[5]=i("br",null,null,-1)),Q(i("h4",null,"\u53EF\u4F7F\u7528\u63D2\u4EF6",512),[[A,c.value.normalMods.length>0]]),i("div",Ce,[(S(!0),j(U,null,z(c.value.normalMods,n=>(S(),w(E,{style:{flex:"0.2 0 auto"},key:n.id,to:{name:"ship_mod",params:{id:n.id}}},{default:M(()=>[i("div",Ie,[i("div",Be,[i("img",{decoding:"async",src:n.icon},null,8,we)]),i("span",null,R(n.name),1)])]),_:2},1032,["to"]))),128))]),l[6]||(l[6]=i("br",null,null,-1)),l[7]||(l[7]=i("br",null,null,-1)),Q(i("h4",null,"D\u63D2\u4EF6",512),[[A,c.value.dMods.length>0]]),i("div",Me,[(S(!0),j(U,null,z(c.value.dMods,n=>(S(),w(E,{style:{flex:"0.2 0 auto"},key:n.id,to:{name:"ship_mod",params:{id:n.id}}},{default:M(()=>[i("div",Oe,[i("div",Fe,[i("img",{decoding:"async",src:n.icon},null,8,Te)]),i("span",null,R(n.name),1)])]),_:2},1032,["to"]))),128))]),l[8]||(l[8]=i("br",null,null,-1)),l[9]||(l[9]=i("br",null,null,-1)),Q(i("h4",null,"\u9690\u85CF\u63D2\u4EF6",512),[[A,c.value.hiddenMods.length>0]]),i("div",Le,[(S(!0),j(U,null,z(c.value.hiddenMods,n=>(S(),w(E,{style:{flex:"0.2 0 auto"},key:n.id,to:{name:"ship_mod",params:{id:n.id}}},{default:M(()=>[i("div",$e,[i("div",De,[i("img",{decoding:"async",src:n.icon},null,8,Ee)]),i("span",null,R(n.name),1)])]),_:2},1032,["to"]))),128))])]),_:1}))}});export{Ue as default};
