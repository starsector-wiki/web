import{I as m,a as l,r as w,Z as S,K as n,U as o,V as i,$ as u,X as h,W as y,a5 as g}from"./index.b4d74a2b.js";const x=["src"],E=["src"],P=["src"],D=["src"],H={key:1},I=m({name:"WeaponSpriteDiv",__name:"WeaponSpriteDiv",props:{weapon:{},isHardPoint:{type:Boolean,default:!1}},setup(e){const c=l(()=>{if(e.weapon){const r=e.weapon.renderHints.includes("RENDER_LOADED_MISSILES")||e.weapon.renderHints.includes("RENDER_LOADED_MISSILES_UNLESS_HIDDEN"),v=e.isHardPoint?e.weapon.hardPointOffsets:e.weapon.turretOffsets;if(r&&v.length>0&&e.weapon.projSpriteName){const s=[];for(let a=0;a<e.weapon.turretOffsets.length;a+=2)s.push([e.weapon.turretOffsets[a],e.weapon.turretOffsets[a+1]]);return s}}}),d=l(()=>e.isHardPoint?e.weapon.hardPointUnderSprite:e.weapon.turretUnderSprite),f=l(()=>e.isHardPoint?e.weapon.hardPointGunSprite:e.weapon.turretGunSprite),p=l(()=>e.isHardPoint?e.weapon.hardPointSprite:e.weapon.turretSprite),t=w(void 0);return S(async()=>{t.value=await g(e.weapon,e.isHardPoint)}),(r,v)=>t.value?(n(),o("div",{key:0,style:i({position:"relative",width:t.value.left+t.value.right+"px",height:t.value.top+t.value.bottom+"px"})},[d.value?(n(),o("img",{key:0,decoding:"async",src:d.value,style:i({position:"absolute",zIndex:-2,top:t.value.top+"px",left:t.value.left+"px",transform:"translate(-50%, -50%)"})},null,12,x)):u("",!0),f.value?(n(),o("img",{key:1,decoding:"async",src:f.value,style:i({position:"absolute",zIndex:-1,top:t.value.top+"px",left:t.value.left+"px",transform:"translate(-50%, -50%)"})},null,12,E)):u("",!0),c.value?(n(!0),o(h,{key:2},y(c.value,(s,a)=>(n(),o("img",{key:a,decoding:"async",src:r.weapon.projSpriteName,style:i({position:"absolute",zIndex:2+a,top:t.value.top+"px",left:t.value.left+"px",transform:`translate(-50%, -${r.isHardPoint?25:50}%) translate(${s[1]}px, ${-s[0]}px)`})},null,12,P))),128)):u("",!0),p.value?(n(),o("img",{key:3,decoding:"async",src:p.value,style:i({position:"absolute",top:t.value.top+"px",left:t.value.left+"px",transform:"translate(-50%, -50%)"})},null,12,D)):u("",!0)],4)):(n(),o("h1",H,"Loading..."))}});export{I as _};
