import{u as $,Q as y}from"./use-quasar.ad376913.js";import{Q as N}from"./QBtn.1a2e21ed.js";import{E as x,r as b,a as d,G as o,V as s,X as r,J as g,O as h,N as m,_ as S,Y as F,H as w,I as E,W as z,K as M,Z as P,$ as Q,at as D}from"./index.407d4528.js";const T={key:0,class:"filter-toolbar"},A={key:0,class:"filter-block"},U={key:1,class:"filter-block"},q={key:2,class:"filter-block"},G={class:"card-item-list-page"},H={class:"card-item-content"},J={key:0},X=x({name:"PlanetsDiv",__name:"PlanetsDiv",props:{planetValues:{},hiddenOptions:{type:Boolean,default:!1}},setup(_){const k=$(),i=b([]),u=b([]),c=b([]),V=d(()=>{const t=f(v(n.value,u.value),c.value),a=new Map;for(const e of n.value)a.set(e.factionId,{id:e.factionId,name:e.faction.displayName});return Array.from(a.values()).sort((e,l)=>e.name.localeCompare(l.name)).map(e=>({label:`${e.name}(${p(t,[e.id]).length})`,value:e.id}))}),B=d(()=>{const t=f(p(n.value,i.value),c.value),a=new Set;for(const l of n.value)l.market&&!l.market.planetConditionMarketOnly&&l.market.size>=3&&a.add(l.market.size.toString());return Array.from(a).sort((l,O)=>Number(l)-Number(O)).map(l=>({label:`${l}(${v(t,[l]).length})`,value:l}))}),C=d(()=>{const t=p(v(n.value,u.value),i.value),a=new Map;for(const e of n.value)a.set(e.typeId,{id:e.typeId,name:e.type.name});return Array.from(a.values()).sort((e,l)=>e.name.localeCompare(l.name)).map(e=>({label:`${e.name}(${f(t,[e.id]).length})`,value:e.id}))}),n=d(()=>_.planetValues.map(t=>typeof t=="string"?Q.getPlanetById(t):t).filter(t=>t!==void 0).filter(t=>!t.isSubStation).sort(D)),I=d(()=>f(v(p(n.value,i.value),u.value),c.value));function p(t,a){return!a||a.length===0?t:t.filter(e=>a.includes(e.factionId))}function v(t,a){return!a||a.length===0?t:t.filter(e=>!e.market||e.market.planetConditionMarketOnly?!1:a.includes(e.market.size.toString()))}function f(t,a){return!a||a.length===0?t:t.filter(e=>a.includes(e.typeId))}return(t,a)=>(o(),s(S,null,[t.hiddenOptions?m("",!0):(o(),s("div",T,[V.value.length?(o(),s("div",A,[a[3]||(a[3]=r("span",null,"\u52BF\u529B:",-1)),g(y,{modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=e=>i.value=e),options:V.value,multiple:"","emit-value":"","map-options":"","use-chips":"",dense:"","options-dense":"",behavior:h(k).screen.lt.sm?"dialog":"menu",clearable:"","clear-icon":"close","clear-value":[],placeholder:"\u5168\u90E8"},null,8,["modelValue","options","behavior"])])):m("",!0),B.value.length?(o(),s("div",U,[a[4]||(a[4]=r("span",null,"\u6B96\u6C11\u5730\u5927\u5C0F:",-1)),g(y,{modelValue:u.value,"onUpdate:modelValue":a[1]||(a[1]=e=>u.value=e),options:B.value,multiple:"","emit-value":"","map-options":"","use-chips":"",dense:"","options-dense":"",behavior:h(k).screen.lt.sm?"dialog":"menu",clearable:"","clear-icon":"close","clear-value":[],placeholder:"\u5168\u90E8"},null,8,["modelValue","options","behavior"])])):m("",!0),C.value.length?(o(),s("div",q,[a[5]||(a[5]=r("span",null,"\u661F\u7403\u7C7B\u578B:",-1)),g(y,{modelValue:c.value,"onUpdate:modelValue":a[2]||(a[2]=e=>c.value=e),options:C.value,multiple:"","emit-value":"","map-options":"","use-chips":"",dense:"","options-dense":"",behavior:h(k).screen.lt.sm?"dialog":"menu",clearable:"","clear-icon":"close","clear-value":[],placeholder:"\u5168\u90E8"},null,8,["modelValue","options","behavior"])])):m("",!0)])),r("div",G,[(o(!0),s(S,null,F(I.value,e=>(o(),w(N,{class:"card-item","no-caps":"",key:e.id,to:{name:"planet",params:{id:e.id}}},{default:E(()=>[r("div",H,[r("div",{style:z({width:50+"px",height:50+"px",backgroundColor:"#"+e.type.color,backgroundSize:"cover",backgroundPosition:"center",maskImage:`url(${e.type.iconTexture})`,maskSize:"cover"})},null,4),r("span",{style:z({color:"#"+e.faction.color})},[M(P(e.name)+" ",1),e.market&&!e.market.planetConditionMarketOnly?(o(),s("span",J,P(e.market.size),1)):m("",!0)],4)])]),_:2},1032,["to"]))),128))])],64))}});export{X as _};
