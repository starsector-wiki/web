import{a as m}from"./utils.b3f61203.js";import{I as w,a as l,r as S,Y as h,K as n,U as o,Z as r,a0 as u,X as y,V as g}from"./index.2981bf06.js";const x=["src"],E=["src"],P=["src"],D=["src"],H={key:1},L=w({name:"WeaponSpriteDiv",__name:"WeaponSpriteDiv",props:{weapon:{},isHardPoint:{type:Boolean,default:!1}},setup(e){const c=l(()=>{if(e.weapon){const i=e.weapon.renderHints.includes("RENDER_LOADED_MISSILES")||e.weapon.renderHints.includes("RENDER_LOADED_MISSILES_UNLESS_HIDDEN"),v=e.isHardPoint?e.weapon.hardPointOffsets:e.weapon.turretOffsets;if(i&&v.length>0&&e.weapon.projSpriteName){const s=[];for(let a=0;a<e.weapon.turretOffsets.length;a+=2)s.push([e.weapon.turretOffsets[a],e.weapon.turretOffsets[a+1]]);return s}}}),d=l(()=>e.isHardPoint?e.weapon.hardPointUnderSprite:e.weapon.turretUnderSprite),f=l(()=>e.isHardPoint?e.weapon.hardPointGunSprite:e.weapon.turretGunSprite),p=l(()=>e.isHardPoint?e.weapon.hardPointSprite:e.weapon.turretSprite),t=S(void 0);return h(async()=>{t.value=await m(e.weapon,e.isHardPoint)}),(i,v)=>t.value?(n(),o("div",{key:0,style:r({position:"relative",width:t.value.left+t.value.right+"px",height:t.value.top+t.value.bottom+"px"})},[d.value?(n(),o("img",{key:0,decoding:"async",src:d.value,style:r({position:"absolute",zIndex:-2,top:t.value.top+"px",left:t.value.left+"px",transform:"translate(-50%, -50%)"})},null,12,x)):u("",!0),f.value?(n(),o("img",{key:1,decoding:"async",src:f.value,style:r({position:"absolute",zIndex:-1,top:t.value.top+"px",left:t.value.left+"px",transform:"translate(-50%, -50%)"})},null,12,E)):u("",!0),c.value?(n(!0),o(y,{key:2},g(c.value,(s,a)=>(n(),o("img",{key:a,decoding:"async",src:i.weapon.projSpriteName,style:r({position:"absolute",zIndex:2+a,top:t.value.top+"px",left:t.value.left+"px",transform:`translate(-50%, -${i.isHardPoint?25:50}%) translate(${s[1]}px, ${-s[0]}px)`})},null,12,P))),128)):u("",!0),p.value?(n(),o("img",{key:3,decoding:"async",src:p.value,style:r({position:"absolute",top:t.value.top+"px",left:t.value.left+"px",transform:"translate(-50%, -50%)"})},null,12,D)):u("",!0)],4)):(n(),o("h1",H,"Loading..."))}});export{L as _};
