import{u as T,Q as y}from"./use-quasar.ad376913.js";import{Q as U}from"./QBtn.1a2e21ed.js";import{E as $,r as B,a as p,G as s,V as r,X as n,J as V,O as _,N as h,_ as O,Y as A,H as N,I as Q,Z as w,a3 as F,$ as I,ao as x}from"./index.407d4528.js";const H={key:0,class:"filter-toolbar"},q={key:0,class:"filter-block"},G={key:1,class:"filter-block"},J={key:2,class:"filter-block"},L={class:"card-item-list-page"},X={class:"card-item-content"},Y={style:{margin:"auto"}},Z=["src"],P=$({name:"ShipModsDiv",__name:"ShipModsDiv",props:{shipModValues:{},hiddenOptions:{type:Boolean,default:!1}},setup(C){const g=T(),i=B([]),d=B([]),c=B([]),D=[{label:"\u666E\u901A",value:"normal"},{label:"D\u63D2\u4EF6",value:"dmod"},{label:"\u9690\u85CF",value:"hidden"}],S=p(()=>{const t=f(v(u.value,d.value),c.value),e=u.value.flatMap(a=>a.uiTags).filter(a=>typeof a=="string"&&a.length>0).sort(),l=new Set(e);return Array.from(l).map(a=>({label:`${a}(${m(t,[a]).length})`,value:a}))}),k=p(()=>{const t=f(m(u.value,i.value),c.value);return Array.from(new Set(u.value.map(l=>{var a;return(a=l.manufacturer)!=null?a:null}))).sort((l,a)=>{const o=l!=null?l:"",b=a!=null?a:"";return o.localeCompare(b)}).map(l=>({label:`${l&&l.length>0?l:"\u672A\u77E5"}(${v(t,[l]).length})`,value:l}))}),E=p(()=>{const t=v(m(u.value,i.value),d.value);return F(D,e=>f(t,[e]).length)}),u=p(()=>C.shipModValues.map(t=>typeof t=="string"?I.getShipModById(t):t).filter(t=>t!==void 0).sort(x)),M=p(()=>f(v(m(u.value,i.value),d.value),c.value));function m(t,e){return!e||e.length===0?t:t.filter(l=>l.uiTags.some(a=>e.includes(a)))}function v(t,e){return!e||e.length===0?t:t.filter(l=>{var o;const a=(o=l.manufacturer)!=null?o:null;return e.includes(a)})}function f(t,e){return!e||e.length===0?t:t.filter(l=>{const a=l.tags.includes("dmod"),o=l.hidden,b=!o&&!a;return a&&e.includes("dmod")||o&&e.includes("hidden")||b&&e.includes("normal")})}return(t,e)=>(s(),r(O,null,[t.hiddenOptions?h("",!0):(s(),r("div",H,[E.value.length?(s(),r("div",q,[e[3]||(e[3]=n("span",null,"\u7C7B\u578B:",-1)),V(y,{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=l=>c.value=l),options:E.value,multiple:"","emit-value":"","map-options":"","use-chips":"",dense:"","options-dense":"",behavior:_(g).screen.lt.sm?"dialog":"menu",clearable:"","clear-icon":"close","clear-value":[],placeholder:"\u5168\u90E8"},null,8,["modelValue","options","behavior"])])):h("",!0),S.value.length?(s(),r("div",G,[e[4]||(e[4]=n("span",null,"UI\u6807\u7B7E:",-1)),V(y,{modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=l=>i.value=l),options:S.value,multiple:"","emit-value":"","map-options":"","use-chips":"",dense:"","options-dense":"",behavior:_(g).screen.lt.sm?"dialog":"menu",clearable:"","clear-icon":"close","clear-value":[],placeholder:"\u5168\u90E8"},null,8,["modelValue","options","behavior"])])):h("",!0),k.value.length?(s(),r("div",J,[e[5]||(e[5]=n("span",null,"\u8BBE\u8BA1\u7C7B\u578B:",-1)),V(y,{modelValue:d.value,"onUpdate:modelValue":e[2]||(e[2]=l=>d.value=l),options:k.value,multiple:"","emit-value":"","map-options":"","use-chips":"",dense:"","options-dense":"",behavior:_(g).screen.lt.sm?"dialog":"menu",clearable:"","clear-icon":"close","clear-value":[],placeholder:"\u5168\u90E8"},null,8,["modelValue","options","behavior"])])):h("",!0)])),n("div",L,[(s(!0),r(O,null,A(M.value,l=>(s(),N(U,{class:"card-item",style:{"align-self":"stretch"},"no-caps":"",key:l.id,to:{name:"ship_mod",params:{id:l.id}}},{default:Q(()=>[n("div",X,[n("div",Y,[n("img",{decoding:"async",src:l.icon},null,8,Z)]),n("span",null,w(l.name),1)])]),_:2},1032,["to"]))),128))])],64))}});export{P as _};
