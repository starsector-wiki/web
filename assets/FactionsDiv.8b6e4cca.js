import{u as C,Q as F,a as y}from"./use-quasar.e16a694c.js";import{Q as L}from"./QBtn.3bea4207.js";import{E as S,r as I,a as m,H as i,W as v,Y as a,K as p,J as u,P as V,O as w,_ as b,$ as B,Z as T,L as O,I as H,X as R,a0 as Y,an as U}from"./index.f106f705.js";const q={key:0,class:"filter-toolbar"},z={class:"filter-row"},J={class:"filter-group"},K={class:"filter-item"},P={class:"filter-item"},W={key:1,class:"result-count"},X={class:"card-item-list-page"},Z={class:"card-item-content"},j=["src"],te=S({name:"FactionsDiv",__name:"FactionsDiv",props:{factionValues:{},img:{default:"logo"},hiddenOptions:{type:Boolean,default:!1}},setup(r){const g=C(),o=I([]),s=I([]),$=[{label:"\u662F",value:"Y"},{label:"\u5426",value:"N"}],D=m(()=>r.factionValues.map(t=>typeof t=="string"?Y.getFactionById(t):t).filter(t=>t!==void 0).sort(U)),d=m(()=>{let t=D.value;return o.value&&o.value.length>0&&(t=t.filter(l=>o.value.every(e=>_(l,e)))),s.value&&s.value.length>0&&(t=t.filter(l=>!s.value.some(e=>_(l,e)))),t}),k=m(()=>x(d.value,o.value,s.value)),N=m(()=>x(d.value,s.value,o.value));function x(t,l,e){const n=[];return $.forEach(c=>{const h=`isHidden:${c.value}`,E=c.value==="Y"?t.filter(f=>f.showInIntelTab).length:t.filter(f=>!f.showInIntelTab).length,Q=l&&l.includes(h),A=e&&e.includes(h);n.push({label:`[\u663E\u793A\u5728\u5217\u8868\u4E2D] ${c.label}(${E})`,value:h,chipLabel:`[\u663E\u793A\u5728\u5217\u8868\u4E2D] ${c.label}`,disable:!Q&&E===0||A})}),n}function _(t,l){const[e,n]=l.split(":");return e==="isHidden"?n==="Y"?t.showInIntelTab:!t.showInIntelTab:!1}return(t,l)=>(i(),v(B,null,[r.hiddenOptions?w("",!0):(i(),v("div",q,[a("div",z,[a("div",J,[a("div",K,[l[2]||(l[2]=a("div",{class:"filter-item-label"},"\u5305\u542B\u6761\u4EF6",-1)),p(F,{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value=e),options:k.value,multiple:"","emit-value":"","map-options":"","use-chips":"",dense:"","options-dense":"",behavior:V(g).screen.lt.sm?"dialog":"menu",clearable:"","clear-icon":"close",placeholder:"\u9009\u62E9\u9700\u8981\u5305\u542B\u7684\u6761\u4EF6"},{"selected-item":u(e=>[p(y,{removable:"",dense:"",onRemove:n=>e.removeAtIndex(e.index),tabindex:e.tabindex,color:"primary","text-color":"white"},{default:u(()=>[O(b(e.opt.chipLabel||e.opt.label),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","behavior"])]),a("div",P,[l[3]||(l[3]=a("div",{class:"filter-item-label"},"\u6392\u9664\u6761\u4EF6",-1)),p(F,{modelValue:s.value,"onUpdate:modelValue":l[1]||(l[1]=e=>s.value=e),options:N.value,multiple:"","emit-value":"","map-options":"","use-chips":"",dense:"","options-dense":"",behavior:V(g).screen.lt.sm?"dialog":"menu",clearable:"","clear-icon":"close",placeholder:"\u9009\u62E9\u9700\u8981\u6392\u9664\u7684\u6761\u4EF6"},{"selected-item":u(e=>[p(y,{removable:"",dense:"",onRemove:n=>e.removeAtIndex(e.index),tabindex:e.tabindex,color:"negative","text-color":"white"},{default:u(()=>[O(b(e.opt.chipLabel||e.opt.label),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","behavior"])])])])])),r.hiddenOptions?w("",!0):(i(),v("div",W," \u5171 "+b(d.value.length)+" \u4E2A\u7ED3\u679C ",1)),a("div",X,[(i(!0),v(B,null,T(d.value,e=>(i(),H(L,{class:"card-item","no-caps":"",key:e.id,to:{name:"faction",params:{id:e.id}}},{default:u(()=>[a("div",Z,[a("img",{decoding:"async",src:r.img==="logo"?e.logo:e.crest},null,8,j),a("span",{style:R({color:"#"+e.color})},b(e.displayName),5)])]),_:2},1032,["to"]))),128))])],64))}});export{te as _};
